'use strict';

// 未登录跳转登录页
var goLogin = function goLogin() {
    return new Promise(function (resolve, reject) {
        var loginData = wx.getStorageSync('loginData');
        if (loginData == null || loginData == undefined || loginData == '') {
            wx.navigateTo({
                url: '../login/login'
            });
            resolve();
        } else {
            reject();
        }
    });
};

/** 
 * 时间戳格式化函数 
 * @param  {string} format    格式 
 * @param  {int}    timestamp 要格式化的时间 默认为当前时间 
 * @return {string}           格式化的时间字符串 
 */
var date = function date(format, timestamp) {
    var a,
        jsdate = timestamp ? new Date(timestamp * 1000) : new Date();
    var pad = function pad(n, c) {
        if ((n = n + "").length < c) {
            return new Array(++c - n.length).join("0") + n;
        } else {
            return n;
        }
    };
    var txt_weekdays = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
    var txt_ordin = { 1: "st", 2: "nd", 3: "rd", 21: "st", 22: "nd", 23: "rd", 31: "st" };
    var txt_months = ["", "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    var f = {
        // Day 
        d: function d() {
            return pad(f.j(), 2);
        },
        D: function D() {
            return f.l().substr(0, 3);
        },
        j: function j() {
            return jsdate.getDate();
        },
        l: function l() {
            return txt_weekdays[f.w()];
        },
        N: function N() {
            return f.w() + 1;
        },
        S: function S() {
            return txt_ordin[f.j()] ? txt_ordin[f.j()] : 'th';
        },
        w: function w() {
            return jsdate.getDay();
        },
        z: function z() {
            return (jsdate - new Date(jsdate.getFullYear() + "/1/1")) / 864e5 >> 0;
        },

        // Week 
        W: function W() {
            var a = f.z(),
                b = 364 + f.L() - a;
            var nd2,
                nd = (new Date(jsdate.getFullYear() + "/1/1").getDay() || 7) - 1;
            if (b <= 2 && (jsdate.getDay() || 7) - 1 <= 2 - b) {
                return 1;
            } else {
                if (a <= 2 && nd >= 4 && a >= 6 - nd) {
                    nd2 = new Date(jsdate.getFullYear() - 1 + "/12/31");
                    return date("W", Math.round(nd2.getTime() / 1000));
                } else {
                    return 1 + (nd <= 3 ? (a + nd) / 7 : (a - (7 - nd)) / 7) >> 0;
                }
            }
        },

        // Month 
        F: function F() {
            return txt_months[f.n()];
        },
        m: function m() {
            return pad(f.n(), 2);
        },
        M: function M() {
            return f.F().substr(0, 3);
        },
        n: function n() {
            return jsdate.getMonth() + 1;
        },
        t: function t() {
            var n;
            if ((n = jsdate.getMonth() + 1) == 2) {
                return 28 + f.L();
            } else {
                if (n & 1 && n < 8 || !(n & 1) && n > 7) {
                    return 31;
                } else {
                    return 30;
                }
            }
        },

        // Year 
        L: function L() {
            var y = f.Y();return !(y & 3) && (y % 1e2 || !(y % 4e2)) ? 1 : 0;
        },
        //o not supported yet 
        Y: function Y() {
            return jsdate.getFullYear();
        },
        y: function y() {
            return (jsdate.getFullYear() + "").slice(2);
        },

        // Time 
        a: function a() {
            return jsdate.getHours() > 11 ? "pm" : "am";
        },
        A: function A() {
            return f.a().toUpperCase();
        },
        B: function B() {
            // peter paul koch: 
            var off = (jsdate.getTimezoneOffset() + 60) * 60;
            var theSeconds = jsdate.getHours() * 3600 + jsdate.getMinutes() * 60 + jsdate.getSeconds() + off;
            var beat = Math.floor(theSeconds / 86.4);
            if (beat > 1000) beat -= 1000;
            if (beat < 0) beat += 1000;
            if (String(beat).length == 1) beat = "00" + beat;
            if (String(beat).length == 2) beat = "0" + beat;
            return beat;
        },
        g: function g() {
            return jsdate.getHours() % 12 || 12;
        },
        G: function G() {
            return jsdate.getHours();
        },
        h: function h() {
            return pad(f.g(), 2);
        },
        H: function H() {
            return pad(jsdate.getHours(), 2);
        },
        i: function i() {
            return pad(jsdate.getMinutes(), 2);
        },
        s: function s() {
            return pad(jsdate.getSeconds(), 2);
        },
        //u not supported yet 

        // Timezone 
        //e not supported yet 
        //I not supported yet 
        O: function O() {
            var t = pad(Math.abs(jsdate.getTimezoneOffset() / 60 * 100), 4);
            if (jsdate.getTimezoneOffset() > 0) t = "-" + t;else t = "+" + t;
            return t;
        },
        P: function P() {
            var O = f.O();return O.substr(0, 3) + ":" + O.substr(3, 2);
        },
        //T not supported yet 
        //Z not supported yet 

        // Full Date/Time 
        c: function c() {
            return f.Y() + "-" + f.m() + "-" + f.d() + "T" + f.h() + ":" + f.i() + ":" + f.s() + f.P();
        },
        //r not supported yet 
        U: function U() {
            return Math.round(jsdate.getTime() / 1000);
        }
    };

    return format.replace(/[\\]?([a-zA-Z])/g, function (t, s) {
        if (t != s) {
            // escaped 
            var ret = s;
        } else if (f[s]) {
            // a date function exists 
            var ret = f[s]();
        } else {
            // nothing special 
            var ret = s;
        }
        return ret;
    });
};

//star code
/*获取当前页url*/
var getCurrentPageUrl = function getCurrentPageUrl() {
    var pages = getCurrentPages(); //获取加载的页面
    var currentPage = pages[pages.length - 1]; //获取当前页面的对象
    var url = currentPage.route; //当前页面url
    return url;
};

/*获取当前页带参数的url*/
var getCurrentPageUrlWithArgs = function getCurrentPageUrlWithArgs() {
    var pages = getCurrentPages(); //getCurrentPages() 函数用于获取当前页面栈的实例，以数组形式按栈的顺序给出，第一个元素为首页，最后一个元素为当前页面。
    var currentPage = pages[pages.length - 1]; //获取当前页面的对象
    var url = currentPage.route; //当前页面url
    var options = currentPage.options; //如果要获取url中所带的参数可以查看options

    //拼接url的参数
    var urlWithArgs = url + '?';
    for (var key in options) {
        var value = options[key];
        urlWithArgs += key + '=' + value + '&';
    }
    urlWithArgs = urlWithArgs.substring(0, urlWithArgs.length - 1);

    return urlWithArgs;
};

module.exports = {
    goLogin: goLogin,
    getCurrentPageUrl: getCurrentPageUrl,
    getCurrentPageUrlWithArgs: getCurrentPageUrlWithArgs,
    date: date
    // getFsMock
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbImdvTG9naW4iLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImxvZ2luRGF0YSIsInd4IiwiZ2V0U3RvcmFnZVN5bmMiLCJ1bmRlZmluZWQiLCJuYXZpZ2F0ZVRvIiwidXJsIiwiZGF0ZSIsImZvcm1hdCIsInRpbWVzdGFtcCIsImEiLCJqc2RhdGUiLCJEYXRlIiwicGFkIiwibiIsImMiLCJsZW5ndGgiLCJBcnJheSIsImpvaW4iLCJ0eHRfd2Vla2RheXMiLCJ0eHRfb3JkaW4iLCJ0eHRfbW9udGhzIiwiZiIsImQiLCJqIiwiRCIsImwiLCJzdWJzdHIiLCJnZXREYXRlIiwidyIsIk4iLCJTIiwiZ2V0RGF5IiwieiIsImdldEZ1bGxZZWFyIiwiVyIsImIiLCJMIiwibmQyIiwibmQiLCJNYXRoIiwicm91bmQiLCJnZXRUaW1lIiwiRiIsIm0iLCJNIiwiZ2V0TW9udGgiLCJ0IiwieSIsIlkiLCJzbGljZSIsImdldEhvdXJzIiwiQSIsInRvVXBwZXJDYXNlIiwiQiIsIm9mZiIsImdldFRpbWV6b25lT2Zmc2V0IiwidGhlU2Vjb25kcyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiYmVhdCIsImZsb29yIiwiU3RyaW5nIiwiZyIsIkciLCJoIiwiSCIsImkiLCJzIiwiTyIsImFicyIsIlAiLCJVIiwicmVwbGFjZSIsInJldCIsImdldEN1cnJlbnRQYWdlVXJsIiwicGFnZXMiLCJnZXRDdXJyZW50UGFnZXMiLCJjdXJyZW50UGFnZSIsInJvdXRlIiwiZ2V0Q3VycmVudFBhZ2VVcmxXaXRoQXJncyIsIm9wdGlvbnMiLCJ1cmxXaXRoQXJncyIsImtleSIsInZhbHVlIiwic3Vic3RyaW5nIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBLElBQU1BLFVBQVUsU0FBVkEsT0FBVSxHQUFVO0FBQ3RCLFdBQU8sSUFBSUMsT0FBSixDQUFZLFVBQVNDLE9BQVQsRUFBa0JDLE1BQWxCLEVBQXlCO0FB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LENBQXRCLEVBQXlCSCxZQUFZbEUsTUFBWixHQUFtQixDQUE1QyxDQUFkOztBQUVBLFdBQU9rRSxXQUFQO0FBQ0gsQ0FmRDs7QUFpQkFJLE9BQU9DLE9BQVAsR0FBaUI7QUFDYjFGLG9CQURhO0FBRWI4RSx3Q0FGYTtBQUdiSyx3REFIYTtBQUliekU7QUFDQTtBQUxhLENBQWpCIiwiZmlsZSI6InV0aWxzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8g5pyq55m75b2V6Lez6L2s55m75b2V6aG1XHJcbmNvbnN0IGdvTG9naW4gPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XHJcbiAgICAgICAgbGV0IGxvZ2luRGF0YSA9IHd4LmdldFN0b3JhZ2VTeW5jKCdsb2dpbkRhdGEnKTsgXHJcbiAgICAgICAgaWYgKGxvZ2luRGF0YSA9PSBudWxsIHx8bG9naW5EYXRhID09IHVuZGVmaW5lZCB8fGxvZ2luRGF0YSA9PSAnJyApe1xyXG4gICAgICAgICAgICB3eC5uYXZpZ2F0ZVRvKHtcclxuICAgICAgICAgICAgICAgIHVybDogJy4uL2xvZ2luL2xvZ2luJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmVzb2x2ZSgpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVqZWN0KClcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcblxyXG4vKiogXHJcbiAqIOaXtumXtOaIs+agvOW8j+WMluWHveaVsCBcclxuICogQHBhcmFtICB7c3RyaW5nfSBmb3JtYXQgICAg5qC85byPIFxyXG4gKiBAcGFyYW0gIHtpbnR9ICAgIHRpbWVzdGFtcCDopoHmoLzlvI/ljJbnmoTml7bpl7Qg6buY6K6k5Li65b2T5YmN5pe26Ze0IFxyXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgICDmoLzlvI/ljJbnmoTml7bpl7TlrZfnrKbkuLIgXHJcbiAqL1xyXG5jb25zdCBkYXRlID0gZnVuY3Rpb24oZm9ybWF0LCB0aW1lc3RhbXApeyAgXHJcbiAgICB2YXIgYSwganNkYXRlPSgodGltZXN0YW1wKSA/IG5ldyBEYXRlKHRpbWVzdGFtcCoxMDAwKSA6IG5ldyBEYXRlKCkpOyBcclxuICAgIHZhciBwYWQgPSBmdW5jdGlvbihuLCBjKXsgXHJcbiAgICAgICAgaWYoKG4gPSBuICsgXCJcIikubGVuZ3RoIDwgYyl7IFxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEFycmF5KCsrYyAtIG4ubGVuZ3RoKS5qb2luKFwiMFwiKSArIG47IFxyXG4gICAgICAgIH0gZWxzZSB7IFxyXG4gICAgICAgICAgICByZXR1cm4gbjsgXHJcbiAgICAgICAgfSBcclxuICAgIH07IFxyXG4gICAgdmFyIHR4dF93ZWVrZGF5cyA9IFtcIlN1bmRheVwiLCBcIk1vbmRheVwiLCBcIlR1ZXNkYXlcIiwgXCJXZWRuZXNkYXlcIiwgXCJUaHVyc2RheVwiLCBcIkZyaWRheVwiLCBcIlNhdHVyZGF5XCJdOyBcclxuICAgIHZhciB0eHRfb3JkaW4gPSB7MTpcInN0XCIsIDI6XCJuZFwiLCAzOlwicmRcIiwgMjE6XCJzdFwiLCAyMjpcIm5kXCIsIDIzOlwicmRcIiwgMzE6XCJzdFwifTsgXHJcbiAgICB2YXIgdHh0X21vbnRocyA9IFtcIlwiLCBcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsIFwiQXByaWxcIiwgXCJNYXlcIiwgXCJKdW5lXCIsIFwiSnVseVwiLCBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIiwgXCJOb3ZlbWJlclwiLCBcIkRlY2VtYmVyXCJdOyAgXHJcbiAgICB2YXIgZiA9IHsgXHJcbiAgICAgICAgLy8gRGF5IFxyXG4gICAgICAgIGQ6IGZ1bmN0aW9uKCl7cmV0dXJuIHBhZChmLmooKSwgMil9LCBcclxuICAgICAgICBEOiBmdW5jdGlvbigpe3JldHVybiBmLmwoKS5zdWJzdHIoMCwzKX0sIFxyXG4gICAgICAgIGo6IGZ1bmN0aW9uKCl7cmV0dXJuIGpzZGF0ZS5nZXREYXRlKCl9LCBcclxuICAgICAgICBsOiBmdW5jdGlvbigpe3JldHVybiB0eHRfd2Vla2RheXNbZi53KCldfSwgXHJcbiAgICAgICAgTjogZnVuY3Rpb24oKXtyZXR1cm4gZi53KCkgKyAxfSwgXHJcbiAgICAgICAgUzogZnVuY3Rpb24oKXtyZXR1cm4gdHh0X29yZGluW2YuaigpXSA/IHR4dF9vcmRpbltmLmooKV0gOiAndGgnfSwgXHJcbiAgICAgICAgdzogZnVuY3Rpb24oKXtyZXR1cm4ganNkYXRlLmdldERheSgpfSwgXHJcbiAgICAgICAgejogZnVuY3Rpb24oKXtyZXR1cm4gKGpzZGF0ZSAtIG5ldyBEYXRlKGpzZGF0ZS5nZXRGdWxsWWVhcigpICsgXCIvMS8xXCIpKSAvIDg2NGU1ID4+IDB9LCBcclxuICAgICAgICBcclxuICAgICAgICAvLyBXZWVrIFxyXG4gICAgICAgIFc6IGZ1bmN0aW9uKCl7IFxyXG4gICAgICAgICAgICB2YXIgYSA9IGYueigpLCBiID0gMzY0ICsgZi5MKCkgLSBhOyBcclxuICAgICAgICAgICAgdmFyIG5kMiwgbmQgPSAobmV3IERhdGUoanNkYXRlLmdldEZ1bGxZZWFyKCkgKyBcIi8xLzFcIikuZ2V0RGF5KCkgfHwgNykgLSAxOyBcclxuICAgICAgICAgICAgaWYoYiA8PSAyICYmICgoanNkYXRlLmdldERheSgpIHx8IDcpIC0gMSkgPD0gMiAtIGIpeyBcclxuICAgICAgICAgICAgICAgIHJldHVybiAxOyBcclxuICAgICAgICAgICAgfSBlbHNleyBcclxuICAgICAgICAgICAgICAgIGlmKGEgPD0gMiAmJiBuZCA+PSA0ICYmIGEgPj0gKDYgLSBuZCkpeyBcclxuICAgICAgICAgICAgICAgICAgICBuZDIgPSBuZXcgRGF0ZShqc2RhdGUuZ2V0RnVsbFllYXIoKSAtIDEgKyBcIi8xMi8zMVwiKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUoXCJXXCIsIE1hdGgucm91bmQobmQyLmdldFRpbWUoKS8xMDAwKSk7IFxyXG4gICAgICAgICAgICAgICAgfSBlbHNleyBcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDEgKyAobmQgPD0gMyA/ICgoYSArIG5kKSAvIDcpIDogKGEgLSAoNyAtIG5kKSkgLyA3KSA+PiAwKTsgXHJcbiAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgIH0sIFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIE1vbnRoIFxyXG4gICAgICAgIEY6IGZ1bmN0aW9uKCl7cmV0dXJuIHR4dF9tb250aHNbZi5uKCldfSwgXHJcbiAgICAgICAgbTogZnVuY3Rpb24oKXtyZXR1cm4gcGFkKGYubigpLCAyKX0sIFxyXG4gICAgICAgIE06IGZ1bmN0aW9uKCl7cmV0dXJuIGYuRigpLnN1YnN0cigwLDMpfSwgXHJcbiAgICAgICAgbjogZnVuY3Rpb24oKXtyZXR1cm4ganNkYXRlLmdldE1vbnRoKCkgKyAxfSwgXHJcbiAgICAgICAgdDogZnVuY3Rpb24oKXsgXHJcbiAgICAgICAgICAgIHZhciBuOyBcclxuICAgICAgICAgICAgaWYoIChuID0ganNkYXRlLmdldE1vbnRoKCkgKyAxKSA9PSAyICl7IFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDI4ICsgZi5MKCk7IFxyXG4gICAgICAgICAgICB9IGVsc2V7IFxyXG4gICAgICAgICAgICAgICAgaWYoIG4gJiAxICYmIG4gPCA4IHx8ICEobiAmIDEpICYmIG4gPiA3ICl7IFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAzMTsgXHJcbiAgICAgICAgICAgICAgICB9IGVsc2V7IFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAzMDsgXHJcbiAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgIH0sIFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFllYXIgXHJcbiAgICAgICAgTDogZnVuY3Rpb24oKXt2YXIgeSA9IGYuWSgpO3JldHVybiAoISh5ICYgMykgJiYgKHkgJSAxZTIgfHwgISh5ICUgNGUyKSkpID8gMSA6IDB9LCBcclxuICAgICAgICAvL28gbm90IHN1cHBvcnRlZCB5ZXQgXHJcbiAgICAgICAgWTogZnVuY3Rpb24oKXtyZXR1cm4ganNkYXRlLmdldEZ1bGxZZWFyKCl9LCBcclxuICAgICAgICB5OiBmdW5jdGlvbigpe3JldHVybiAoanNkYXRlLmdldEZ1bGxZZWFyKCkgKyBcIlwiKS5zbGljZSgyKX0sIFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFRpbWUgXHJcbiAgICAgICAgYTogZnVuY3Rpb24oKXtyZXR1cm4ganNkYXRlLmdldEhvdXJzKCkgPiAxMSA/IFwicG1cIiA6IFwiYW1cIn0sIFxyXG4gICAgICAgIEE6IGZ1bmN0aW9uKCl7cmV0dXJuIGYuYSgpLnRvVXBwZXJDYXNlKCl9LCBcclxuICAgICAgICBCOiBmdW5jdGlvbigpeyBcclxuICAgICAgICAgICAgLy8gcGV0ZXIgcGF1bCBrb2NoOiBcclxuICAgICAgICAgICAgdmFyIG9mZiA9IChqc2RhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSArIDYwKSo2MDsgXHJcbiAgICAgICAgICAgIHZhciB0aGVTZWNvbmRzID0gKGpzZGF0ZS5nZXRIb3VycygpICogMzYwMCkgKyAoanNkYXRlLmdldE1pbnV0ZXMoKSAqIDYwKSArIGpzZGF0ZS5nZXRTZWNvbmRzKCkgKyBvZmY7IFxyXG4gICAgICAgICAgICB2YXIgYmVhdCA9IE1hdGguZmxvb3IodGhlU2Vjb25kcy84Ni40KTsgXHJcbiAgICAgICAgICAgIGlmIChiZWF0ID4gMTAwMCkgYmVhdCAtPSAxMDAwOyBcclxuICAgICAgICAgICAgaWYgKGJlYXQgPCAwKSBiZWF0ICs9IDEwMDA7IFxyXG4gICAgICAgICAgICBpZiAoKFN0cmluZyhiZWF0KSkubGVuZ3RoID09IDEpIGJlYXQgPSBcIjAwXCIrYmVhdDsgXHJcbiAgICAgICAgICAgIGlmICgoU3RyaW5nKGJlYXQpKS5sZW5ndGggPT0gMikgYmVhdCA9IFwiMFwiK2JlYXQ7IFxyXG4gICAgICAgICAgICByZXR1cm4gYmVhdDsgXHJcbiAgICAgICAgfSwgXHJcbiAgICAgICAgZzogZnVuY3Rpb24oKXtyZXR1cm4ganNkYXRlLmdldEhvdXJzKCkgJSAxMiB8fCAxMn0sIFxyXG4gICAgICAgIEc6IGZ1bmN0aW9uKCl7cmV0dXJuIGpzZGF0ZS5nZXRIb3VycygpfSwgXHJcbiAgICAgICAgaDogZnVuY3Rpb24oKXtyZXR1cm4gcGFkKGYuZygpLCAyKX0sIFxyXG4gICAgICAgIEg6IGZ1bmN0aW9uKCl7cmV0dXJuIHBhZChqc2RhdGUuZ2V0SG91cnMoKSwgMil9LCBcclxuICAgICAgICBpOiBmdW5jdGlvbigpe3JldHVybiBwYWQoanNkYXRlLmdldE1pbnV0ZXMoKSwgMil9LCBcclxuICAgICAgICBzOiBmdW5jdGlvbigpe3JldHVybiBwYWQoanNkYXRlLmdldFNlY29uZHMoKSwgMil9LCBcclxuICAgICAgICAvL3Ugbm90IHN1cHBvcnRlZCB5ZXQgXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gVGltZXpvbmUgXHJcbiAgICAgICAgLy9lIG5vdCBzdXBwb3J0ZWQgeWV0IFxyXG4gICAgICAgIC8vSSBub3Qgc3VwcG9ydGVkIHlldCBcclxuICAgICAgICBPOiBmdW5jdGlvbigpeyBcclxuICAgICAgICAgICAgdmFyIHQgPSBwYWQoTWF0aC5hYnMoanNkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkvNjAqMTAwKSwgNCk7IFxyXG4gICAgICAgICAgICBpZiAoanNkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkgPiAwKSB0ID0gXCItXCIgKyB0OyBlbHNlIHQgPSBcIitcIiArIHQ7IFxyXG4gICAgICAgICAgICByZXR1cm4gdDsgXHJcbiAgICAgICAgfSwgXHJcbiAgICAgICAgUDogZnVuY3Rpb24oKXt2YXIgTyA9IGYuTygpO3JldHVybiAoTy5zdWJzdHIoMCwgMykgKyBcIjpcIiArIE8uc3Vic3RyKDMsIDIpKX0sIFxyXG4gICAgICAgIC8vVCBub3Qgc3VwcG9ydGVkIHlldCBcclxuICAgICAgICAvL1ogbm90IHN1cHBvcnRlZCB5ZXQgXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRnVsbCBEYXRlL1RpbWUgXHJcbiAgICAgICAgYzogZnVuY3Rpb24oKXtyZXR1cm4gZi5ZKCkgKyBcIi1cIiArIGYubSgpICsgXCItXCIgKyBmLmQoKSArIFwiVFwiICsgZi5oKCkgKyBcIjpcIiArIGYuaSgpICsgXCI6XCIgKyBmLnMoKSArIGYuUCgpfSwgXHJcbiAgICAgICAgLy9yIG5vdCBzdXBwb3J0ZWQgeWV0IFxyXG4gICAgICAgIFU6IGZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucm91bmQoanNkYXRlLmdldFRpbWUoKS8xMDAwKX0gXHJcbiAgICB9OyBcclxuICAgICAgICBcclxuICAgIHJldHVybiBmb3JtYXQucmVwbGFjZSgvW1xcXFxdPyhbYS16QS1aXSkvZywgZnVuY3Rpb24odCwgcyl7IFxyXG4gICAgICAgIGlmKCB0IT1zICl7IFxyXG4gICAgICAgICAgICAvLyBlc2NhcGVkIFxyXG4gICAgICAgICAgICB2YXIgcmV0ID0gczsgXHJcbiAgICAgICAgfSBlbHNlIGlmKCBmW3NdICl7IFxyXG4gICAgICAgICAgICAvLyBhIGRhdGUgZnVuY3Rpb24gZXhpc3RzIFxyXG4gICAgICAgICAgICB2YXIgcmV0ID0gZltzXSgpOyBcclxuICAgICAgICB9IGVsc2V7IFxyXG4gICAgICAgICAgICAvLyBub3RoaW5nIHNwZWNpYWwgXHJcbiAgICAgICAgICAgIHZhciByZXQgPSBzOyBcclxuICAgICAgICB9IFxyXG4gICAgICAgIHJldHVybiByZXQ7IFxyXG4gICAgfSk7IFxyXG59XHJcblxyXG5cclxuLy9zdGFyIGNvZGVcclxuLyrojrflj5blvZPliY3pobV1cmwqL1xyXG5jb25zdCBnZXRDdXJyZW50UGFnZVVybCA9IGZ1bmN0aW9uICgpe1xyXG4gICAgbGV0IHBhZ2VzID0gZ2V0Q3VycmVudFBhZ2VzKCkgICAgLy/ojrflj5bliqDovb3nmoTpobXpnaJcclxuICAgIGxldCBjdXJyZW50UGFnZSA9IHBhZ2VzW3BhZ2VzLmxlbmd0aC0xXSAgICAvL+iOt+WPluW9k+WJjemhtemdoueahOWvueixoVxyXG4gICAgbGV0IHVybCA9IGN1cnJlbnRQYWdlLnJvdXRlICAgIC8v5b2T5YmN6aG16Z2idXJsXHJcbiAgICByZXR1cm4gdXJsXHJcbn1cclxuXHJcbi8q6I635Y+W5b2T5YmN6aG15bim5Y+C5pWw55qEdXJsKi9cclxuY29uc3QgZ2V0Q3VycmVudFBhZ2VVcmxXaXRoQXJncyA9IGZ1bmN0aW9uICgpe1xyXG4gICAgbGV0IHBhZ2VzID0gZ2V0Q3VycmVudFBhZ2VzKCkgICAgLy9nZXRDdXJyZW50UGFnZXMoKSDlh73mlbDnlKjkuo7ojrflj5blvZPliY3pobXpnaLmoIjnmoTlrp7kvovvvIzku6XmlbDnu4TlvaLlvI/mjInmoIjnmoTpobrluo/nu5nlh7rvvIznrKzkuIDkuKrlhYPntKDkuLrpppbpobXvvIzmnIDlkI7kuIDkuKrlhYPntKDkuLrlvZPliY3pobXpnaLjgIJcclxuICAgIGxldCBjdXJyZW50UGFnZSA9IHBhZ2VzW3BhZ2VzLmxlbmd0aC0xXSAgICAvL+iOt+WPluW9k+WJjemhtemdoueahOWvueixoVxyXG4gICAgbGV0IHVybCA9IGN1cnJlbnRQYWdlLnJvdXRlICAgIC8v5b2T5YmN6aG16Z2idXJsXHJcbiAgICBsZXQgb3B0aW9ucyA9IGN1cnJlbnRQYWdlLm9wdGlvbnMgICAgLy/lpoLmnpzopoHojrflj5Z1cmzkuK3miYDluKbnmoTlj4LmlbDlj6/ku6Xmn6XnnItvcHRpb25zXHJcbiAgICBcclxuICAgIC8v5ou85o6ldXJs55qE5Y+C5pWwXHJcbiAgICBsZXQgdXJsV2l0aEFyZ3MgPSB1cmwgKyAnPydcclxuICAgIGZvcihsZXQga2V5IGluIG9wdGlvbnMpe1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IG9wdGlvbnNba2V5XVxyXG4gICAgICAgIHVybFdpdGhBcmdzICs9IGtleSArICc9JyArIHZhbHVlICsgJyYnXHJcbiAgICB9XHJcbiAgICB1cmxXaXRoQXJncyA9IHVybFdpdGhBcmdzLnN1YnN0cmluZygwLCB1cmxXaXRoQXJncy5sZW5ndGgtMSlcclxuICAgIFxyXG4gICAgcmV0dXJuIHVybFdpdGhBcmdzXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgZ29Mb2dpbixcclxuICAgIGdldEN1cnJlbnRQYWdlVXJsLFxyXG4gICAgZ2V0Q3VycmVudFBhZ2VVcmxXaXRoQXJncyxcclxuICAgIGRhdGVcclxuICAgIC8vIGdldEZzTW9ja1xyXG59XHJcbiJdfQ==